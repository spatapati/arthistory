$(document).ready(function(){if(document.cookie===""){$("#information").slideDown(600);}
var current=0;cards=old.concat(after).slice();current_set="all";var side="front";draw(current,side);$("#left").click(function(){if(current!==0){current--;}else{current=cards.length-1;}
side='front';draw(current,side);});$("#right").click(function(){if(current!==cards.length-1){current++;}else{current=0;}
side='front';draw(current,side);});$("#center").click(function(){if(side==='front'){side="back";}else{side="front";}
draw(current,side);});$(document).keydown(function(event){if(event.which===32){$("#center").click();}
else if(event.which===39){$("#right").click();}
else if(event.which===37){$("#left").click();}});$("#random").click(function(){cards=shuffle(cards);current=0;side="front";draw(current,side);});$("#unshuffle").click(function(){switch(current_set){case"old":cards=old.slice();break;case"new":cards=after.slice();break;case"all":cards=old.concat(after);break;}
current=0;side='front';draw(current,side);});$("#old").click(function(){cards=old.slice();current_set="old";side='front';current=0;draw(current,side);});$("#new").click(function(){cards=after.slice();current_set="new";side='front';current=0;draw(current,side);});$("#all").click(function(){cards=old.concat(after).slice();current_set="all";side="front";current=0;draw(current,side);});$("#hider").click(function(){$("#information").slideUp();});$("#forever").click(function(){$("#hider").click();var expiration=new Date();expiration.setFullYear(expiration.getFullYear()+1);document.cookie="hidden=true;expires="+expiration.toGMTString();});for(var i=0;i<cards.length;i++){$("#pre").append(cards[i.toString()].prefetch);}});function draw(current,side){$("#card").html(cards[current][side]);$("#counter").html((current+1).toString()+' of '+cards.length.toString());$(".tall").css("height",$(window).height()*.85);$("img").css("max-height",$(window).height()*.80);}
function shuffle(array){var counter=array.length,temp,index;while(counter>0){index=Math.floor(Math.random()*counter);counter--;temp=array[counter];array[counter]=array[index];array[index]=temp;}
return array;}